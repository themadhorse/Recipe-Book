{"version":3,"sources":["./src/app/shopping/shopping-list/shopping-list.component.ts","./src/app/shopping/shopping-list/shopping-list.component.html","./src/app/shopping/shopping-list-routing.module.ts","./src/app/shopping/shopping-list.module.ts","./src/app/shopping/shopping-list-edit/shopping-list-edit.component.ts","./src/app/shopping/shopping-list-edit/shopping-list-edit.component.html"],"names":[],"mappings":"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","file":"shopping-shopping-list-module.3b07b0d80fe78c66d657.js","sourcesContent":["import { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core'; \r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs';\r\n\r\nimport { Ingredient } from '../../shared/ingredient.model';\r\n\r\nimport * as fromApp from '../../store/app.reducer';\r\nimport * as ShoppingListActions from '../store/shopping-list.actions';\r\n\r\n@Component({\r\n  selector: 'app-shopping-list',\r\n  templateUrl: './shopping-list.component.html',\r\n  styleUrls: ['./shopping-list.component.css'],\r\n  animations: [\r\n    trigger('addIngredient', [\r\n      state('in', style({opacity: 1, transform: 'translateX(0)'})),\r\n      transition('void => *', [style({opacity: 0, transform: 'translateX(-75px)'}), animate(200)]),\r\n      transition('* => void', [animate(100), style({opacity: 0})])\r\n    ])\r\n  ]\r\n})\r\nexport class ShoppingListComponent implements OnInit, OnDestroy {\r\n  ingredients: Observable<{ ingredients: Ingredient[] }>;\r\n  ingredientSubscription: Subscription;\r\n\r\n  constructor(private store: Store<fromApp.AppState>) {}\r\n\r\n  ngOnInit(): void {\r\n    this.ingredients = this.store.select('shoppingList');\r\n    // this.ingredients = this.shoppingListService.getIngredients();\r\n    // this.ingredientSubscription = this.shoppingListService.ingredientsChanged.subscribe(\r\n    //   (ingredients: Ingredient[]) => this.ingredients = ingredients\r\n    // );\r\n  }\r\n\r\n  onEditItem(index: number){\r\n    this.store.dispatch(new ShoppingListActions.StartEdit(index));\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    //this.ingredientSubscription.unsubscribe();\r\n    this.store.dispatch(new ShoppingListActions.StopEdit());\r\n  }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-xs-10\">\r\n        <app-shopping-list-edit></app-shopping-list-edit>\r\n        <hr>\r\n        <ul class=\"list-group\">\r\n            <a class=\"list-group-item\" style=\"cursor: pointer\"\r\n            (click)=\"onEditItem(i)\"\r\n            [@addIngredient]\r\n            *ngFor=\"let ingredient of (ingredients | async).ingredients; let i = index\">\r\n            {{ ingredient.name }} <span class=\"pull-right\">{{ ingredient.amount }}</span>\r\n            </a>\r\n        </ul>\r\n    </div>\r\n</div>","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { ShoppingListComponent } from \"./shopping-list/shopping-list.component\";\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: ShoppingListComponent },\r\n]\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class ShoppingListRoutingModule {}","import { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { SharedModule } from \"../shared/shared.module\";\r\nimport { ShoppingListEditComponent } from \"./shopping-list-edit/shopping-list-edit.component\";\r\nimport { ShoppingListRoutingModule } from \"./shopping-list-routing.module\";\r\nimport { ShoppingListComponent } from \"./shopping-list/shopping-list.component\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ShoppingListComponent,\r\n        ShoppingListEditComponent,\r\n    ],\r\n    imports: [\r\n        FormsModule,\r\n        SharedModule,\r\n        RouterModule,\r\n        ShoppingListRoutingModule\r\n    ]\r\n})\r\nexport class ShoppingListModule{ }","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { Subscription } from 'rxjs/internal/Subscription';\r\nimport { NgForm } from '@angular/forms';\r\n\r\nimport { Ingredient } from 'src/app/shared/ingredient.model';\r\nimport { Store } from '@ngrx/store';\r\nimport * as ShoppingListActions from '../store/shopping-list.actions';\r\nimport * as fromApp from '../../store/app.reducer';\r\n\r\n@Component({\r\n  selector: 'app-shopping-list-edit',\r\n  templateUrl: './shopping-list-edit.component.html',\r\n  styleUrls: ['./shopping-list-edit.component.css']\r\n})\r\nexport class ShoppingListEditComponent implements OnInit, OnDestroy {\r\n  @ViewChild('f', { static: false }) ingredientForm: NgForm;\r\n  subscription: Subscription;\r\n  editMode = false;\r\n\r\n  constructor(private store: Store<fromApp.AppState>) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.store.select('shoppingList').subscribe(\r\n      (stateData) => {\r\n        if(stateData.editedIngredientIndex > -1)\r\n        {\r\n          this.editMode = true;\r\n          this.ingredientForm.setValue({\r\n            'ingName': stateData.editedIngredient.name,\r\n            'amount': stateData.editedIngredient.amount\r\n          });\r\n        } else {\r\n          this.editMode = false;\r\n        }\r\n      }\r\n    );\r\n    // this.subscription = this.shoppingListService.ingredientSelected.subscribe((index: number) => {\r\n    //   let ingredient: Ingredient = this.shoppingListService.getIngredient(index);\r\n      // this.ingredientForm.setValue({\r\n      //   'ingName': ingredient.name,\r\n      //   'amount': ingredient.amount\r\n      // });\r\n    //   this.editMode = true;\r\n    //   this.editedItemIndex = index;\r\n    // });\r\n  }\r\n\r\n  setData(){\r\n    //this.shoppingListService.addIngredient({name: this.ingredientForm.value.ingName, amount: this.ingredientForm.value.amount}, undefined, this.editMode);\r\n    const newIngredient = new Ingredient(this.ingredientForm.value.ingName, this.ingredientForm.value.amount)\r\n\r\n    if(!this.editMode)\r\n      this.store.dispatch(new ShoppingListActions.AddIngredient(newIngredient));\r\n    else\r\n      this.store.dispatch(new ShoppingListActions.UpdateIngredient(newIngredient));\r\n    this.ingredientForm.reset();\r\n  }\r\n\r\n  onClear(){\r\n    this.ingredientForm.reset(); \r\n    this.editMode=false;\r\n  }\r\n\r\n  onDelete(){\r\n    this.onClear();\r\n    this.store.dispatch(new ShoppingListActions.DeleteIngredient());\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-xs-12\">\r\n        <form #f=\"ngForm\" (ngSubmit)=\"setData(); editMode=false\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-5 form-group\">\r\n                    <label for=\"name\">Name</label>\r\n                    <input type=\"text\" id=\"name\" \r\n                    class=\"form-control\"\r\n                    name=\"ingName\" \r\n                    ngModel\r\n                    required>\r\n                </div>\r\n                <div class=\"col-sm-2 form-group\">\r\n                    <label for=\"amount\">Amount</label>\r\n                    <input type=\"number\" id=\"amount\" \r\n                    class=\"form-control\"\r\n                    name=\"amount\"\r\n                    ngModel\r\n                    [pattern]=\"'^[1-9]+[0-9]*$'\"\r\n                    required>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12\">\r\n                    <button class=\"btn btn-success\" [disabled]=\"f.invalid\" type=\"submit\">{{ editMode ? \"Update\": \"Add\" }}</button>\r\n                    <button class=\"btn btn-danger\" type=\"button\" (click)=\"onDelete()\" *ngIf=\"editMode\">Delete</button>\r\n                    <button class=\"btn btn-primary\" type=\"button\" (click)=\"onClear()\">Clear</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>"],"sourceRoot":"webpack:///"}