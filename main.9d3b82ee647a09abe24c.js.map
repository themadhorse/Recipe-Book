{"version":3,"sources":["./src/app/auth/store/auth.actions.ts","./src/app/shared/dropdown.directive.ts","./src/app/recipe-book/store/recipe.actions.ts","./src/app/shared/loading-spinner/loading-spinner.conponent.ts","./src/app/shared/ingredient.model.ts","./src/environments/environment.ts","./src/app/shopping/store/shopping-list.actions.ts","./src/app/shared/placeholder.directive.ts","./src/app/shared/data-storage.service.ts","./src/app/auth/store/auth.effects.ts","./src/app/shared/shared.module.ts","./src/app/store/app.reducer.ts","./src/app/shopping/store/shopping-list.reducer.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/shared/alert/alert.component.ts","./src/app/shared/alert/alert.component.html","./src/app/app.module.ts","./src/app/recipe-book/store/recipe.reducer.ts","./src/app/auth/user.model.ts","./src/app/header/header.component.ts","./src/app/header/header.component.html","./src/app/header/pdf/pdf.component.ts","./src/app/header/pdf/pdf.component.html","./src/app/recipe-book/recipe.service.ts","./src/app/auth/auth/auth-interceptor.service.ts","./src/app/recipe-book/store/recipe.effects.ts","./src/app/auth/auth.service.ts","./src/app/auth/store/auth.reducer.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.9d3b82ee647a09abe24c.js","sourcesContent":["import { Action } from \"@ngrx/store\";\r\n\r\nexport const LOGIN_START = `[Authentication] Login Start`;\r\nexport const AUTHENTICATE_SUCCESS = '[Authentication] Login'; //best naming convention\r\nexport const AUTHENTICATE_FAIL = `[Authentication] Login Fail`;\r\nexport const LOGOUT = '[Authentication] Logout';\r\nexport const SIGNUP_START = `[Authentication] Signup Start`;\r\nexport const SIGNUP_SUCCESS = `[Authentication] Signup`;\r\nexport const CLEAR_MESSAGES = `[Authentication] Clear Messages`;\r\nexport const AUTO_LOGIN = `[Authentication] Auto Login`;\r\n\r\n\r\nexport class Authenticate_Success implements Action{\r\n  readonly type = AUTHENTICATE_SUCCESS;\r\n\r\n  constructor(public payload: {email: string, id: string, _token: string, _tokenExpirationDate: Date, redirect: boolean}) {}\r\n}\r\n\r\nexport class Authenticate_Fail implements Action {\r\n  readonly type = AUTHENTICATE_FAIL;\r\n\r\n  constructor(public payload: string){}\r\n}\r\n\r\nexport class Logout implements Action {\r\n  readonly type = LOGOUT;\r\n}\r\n\r\nexport class Login_Start implements Action {\r\n  readonly type = LOGIN_START;\r\n\r\n  constructor(public payload: {email: string, password: string}){}\r\n}\r\n\r\nexport class Signup_Start implements Action {\r\n  readonly type = SIGNUP_START;\r\n\r\n  constructor(public payload: { email: string, password: string }){}\r\n}\r\n\r\nexport class Signup_Success implements Action {\r\n  readonly type = SIGNUP_SUCCESS;\r\n}\r\n\r\nexport class Clear_Messages implements Action {\r\n  readonly type = CLEAR_MESSAGES;\r\n}\r\n\r\nexport class Auto_Login implements Action {\r\n  readonly type = AUTO_LOGIN;\r\n}\r\n\r\nexport type AuthActions = Authenticate_Success | Logout | Login_Start | Authenticate_Fail | Signup_Start | Signup_Success | Clear_Messages | Auto_Login;","import { Directive, ElementRef, HostBinding, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[appDropdown]'\r\n})\r\n\r\nexport class DropdownDirective{\r\n    @HostBinding('class.open') opened = false;\r\n    \r\n    constructor(private elRef: ElementRef){}\r\n\r\n    @HostListener('document:click', ['$event']) toggleOpen(event: Event) {\r\n        this.opened = this.elRef.nativeElement.contains(event.target) ? !this.opened : false;\r\n      }\r\n}","import { Action } from '@ngrx/store';\r\n\r\nimport { Recipe } from '../recipe.model';\r\n\r\nexport const SET_RECIPES = '[Recipes] Set Recipes';\r\nexport const SET_GLOBAL_RECIPES = `[Recipe] Set Global Recipes`;\r\nexport const FETCH_RECIPES = '[Recipes] Fetch Recipes';\r\nexport const FETCH_GLOBAL_RECIPES = `[Recipe] Fetch Global Recipes`;\r\nexport const ADD_RECIPE = '[Recipe] Add Recipe';\r\nexport const ADD_GLOBAL_RECIPE = `[Recipe] Add Global Recipe`;\r\nexport const UPDATE_RECIPE = '[Recipe] Update Recipe';\r\nexport const UPDATE_GLOBAL_RECIPE = '[Recipe] Update Global Recipe';\r\nexport const DELETE_RECIPE = '[Recipe] Delete Recipe';\r\nexport const DELETE_GLOBAL_RECIPE = '[Recipe] Delete Global Recipe';\r\nexport const STORE_RECIPES = '[Recipe] Store Recipes';\r\nexport const EXPORT_RECIPES = `[Recipe] Export Recipes`;\r\nexport const RESET_RECIPES = `[Recipe] Reset Recipes`;\r\n\r\nexport class SetRecipes implements Action {\r\n  readonly type = SET_RECIPES;\r\n\r\n  constructor(public payload: Recipe[]) {}\r\n}\r\n\r\nexport class FetchRecipes implements Action {\r\n  readonly type = FETCH_RECIPES;\r\n}\r\n\r\nexport class AddRecipe implements Action {\r\n  readonly type = ADD_RECIPE;\r\n\r\n  constructor(public payload: Recipe) {}\r\n}\r\n\r\nexport class UpdateRecipe implements Action {\r\n  readonly type = UPDATE_RECIPE;\r\n\r\n  constructor(public payload: { index: number; newRecipe: Recipe }) {}\r\n}\r\n\r\nexport class UpdateGlobalRecipe implements Action {\r\n  readonly type = UPDATE_GLOBAL_RECIPE;\r\n\r\n  constructor(public payload: { index: number, newRecipe: Recipe }) {}\r\n}\r\n\r\nexport class DeleteRecipe implements Action {\r\n  readonly type = DELETE_RECIPE;\r\n\r\n  constructor(public payload: number) {}\r\n}\r\n\r\nexport class DeleteGlobalRecipe implements Action {\r\n  readonly type = DELETE_GLOBAL_RECIPE;\r\n\r\n  constructor(public payload: number) {}\r\n}\r\n\r\nexport class StoreRecipes implements Action {\r\n  readonly type = STORE_RECIPES;\r\n}\r\n\r\nexport class SetGlobalRecipes implements Action {\r\n  readonly type = SET_GLOBAL_RECIPES;\r\n\r\n  constructor(public payload: Recipe[]) {}\r\n}\r\nexport class FetchGlobalRecipes implements Action {\r\n  readonly type = FETCH_GLOBAL_RECIPES;\r\n}\r\n\r\nexport class AddGlobalRecipe implements Action {\r\n  readonly type = ADD_GLOBAL_RECIPE;\r\n\r\n  constructor(public payload: Recipe) {}\r\n}\r\n\r\nexport class ResetRecipes implements Action {\r\n  readonly type = RESET_RECIPES;\r\n}\r\n\r\n\r\n\r\nexport type RecipesActions =\r\n  | SetRecipes\r\n  | SetGlobalRecipes\r\n  | FetchRecipes\r\n  | FetchGlobalRecipes\r\n  | AddRecipe\r\n  | AddGlobalRecipe\r\n  | UpdateRecipe\r\n  | UpdateGlobalRecipe\r\n  | DeleteRecipe\r\n  | DeleteGlobalRecipe\r\n  | StoreRecipes\r\n  | ResetRecipes;\r\n","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: 'app-loading-spinner',\r\n    template: '<div class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>',\r\n    styleUrls: ['./loading-spinner.component.css']\r\n})\r\nexport class LoadingSpinnerComponent{\r\n\r\n}","export class Ingredient{\r\n    constructor(\r\n        public name: string,\r\n        public amount: number\r\n    ){}\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebaseAPIKey: 'AIzaSyAUDHRagvUrIod7l-1fsLtnO7vATAP8DbA'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Action } from '@ngrx/store';\r\nimport { Ingredient } from 'src/app/shared/ingredient.model';\r\n\r\nexport const ADD_INGREDIENT = '[Shopping List] Add Ingredient';\r\nexport const UPDATE_INGREDIENT = '[Shopping List] Update Ingredients';\r\nexport const ADD_INGREDIENTS = '[Shopping List] Add Ingredients';\r\nexport const DELETE_INGREDIENT = '[Shopping List] Delete Ingredient';\r\nexport const START_EDIT = '[Shopping List] Start Edit';\r\nexport const STOP_EDIT = '[Shopping List] Stop Edit';\r\n\r\nexport class AddIngredient implements Action {\r\n  readonly type = ADD_INGREDIENT;\r\n  \r\n  constructor(public payload: Ingredient) {}\r\n}\r\n\r\nexport class AddIngredients implements Action {\r\n  readonly type = ADD_INGREDIENTS;\r\n  \r\n  constructor(public payload: Ingredient[]) {}\r\n}\r\n\r\nexport class UpdateIngredient implements Action {\r\n  readonly type = UPDATE_INGREDIENT;\r\n\r\n  constructor(public payload: Ingredient) {}\r\n}\r\n\r\nexport class DeleteIngredient implements Action {\r\n  readonly type = DELETE_INGREDIENT;\r\n}\r\n\r\nexport class StartEdit implements Action{\r\n  readonly type = START_EDIT;\r\n\r\n  constructor(public payload: number) {}\r\n}\r\nexport class StopEdit implements Action{\r\n  readonly type = STOP_EDIT;\r\n}\r\n\r\nexport type ShoppingListActions = AddIngredient | AddIngredients | UpdateIngredient | DeleteIngredient | StartEdit | StopEdit;","import { Directive, ViewContainerRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[appPlaceholder]'\r\n})\r\nexport class PlaceholderDirective{\r\n    constructor(public veiwContainerRef: ViewContainerRef){}\r\n}","import { HttpClient, HttpParams } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport jsPDF from \"jspdf\";\r\nimport { map, tap } from 'rxjs/operators'\r\n\r\nimport { AuthService } from \"../auth/auth.service\";\r\nimport { Recipe } from \"../recipe-book/recipe.model\";\r\n\r\nimport { RecipeService } from \"../recipe-book/recipe.service\";\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class DataStorageService {\r\n  pdf = new jsPDF();\r\n\r\n    constructor(private http: HttpClient, private recipeService: RecipeService, private authService: AuthService) { }\r\n\r\n    storeRecipes() {\r\n        const recipes = this.recipeService.getRecipes();\r\n        console.log(recipes);\r\n        this.http.put(\"https://recipe-book-ddfc0-default-rtdb.firebaseio.com/recipes.json\", recipes)\r\n            .subscribe(\r\n                responseData => { console.log(responseData); }\r\n            );\r\n    }\r\n\r\n    fetchRecipes() {\r\n\r\n        return this.http.get<Recipe[]>(\r\n            \"https://recipe-book-ddfc0-default-rtdb.firebaseio.com/recipes.json\")\r\n            .pipe(\r\n                map(\r\n                    response => {\r\n                        return response.map(recipe => {\r\n                            return { ...recipe, ingredients: recipe.ingredients ? recipe.ingredients : [] }\r\n                        });\r\n                    }\r\n                ),\r\n                tap(recipes => {\r\n                    this.recipeService.setFetchedRecipes(recipes);\r\n                })\r\n            );\r\n    }\r\n\r\n\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Actions, Effect, ofType } from \"@ngrx/effects\";\r\nimport { catchError, switchMap, map, tap, filter } from \"rxjs/operators\";\r\nimport * as AuthActions from './auth.actions';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Observable, of } from \"rxjs\";\r\nimport { Router } from \"@angular/router\";\r\nimport { User } from \"../user.model\";\r\nimport { AuthService } from \"../auth.service\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport * as fromApp from '../../store/app.reducer';\r\nimport * as RecipeActions from '../../recipe-book/store/recipe.actions';\r\n\r\nexport interface AuthResponseData {\r\n  kind: string;\r\n  idToken: string;\r\n  email: string;\r\n  refreshToken: string;\r\n  expiresIn: string;\r\n  localId: string;\r\n  displayName?: string;\r\n  registered?: boolean;\r\n}\r\n\r\nconst handleAuthentication = ({ expiresIn, email, localId, idToken }: AuthResponseData) => {\r\n  const expirationDate = new Date(new Date().getTime() + (+expiresIn * 1000));\r\n  const user = new User(email, localId, idToken, expirationDate);\r\n  localStorage.setItem('userData', JSON.stringify(user));\r\n\r\n  return new AuthActions.Authenticate_Success({ email: email, id: localId, _token: idToken, _tokenExpirationDate: expirationDate, redirect: true });\r\n}\r\n\r\nconst handleError = (errorRes): Observable<AuthActions.Authenticate_Fail> => {\r\n  let errorMsg = \"An unknown error occurred\";\r\n  if (!errorRes.error || !errorRes.error.error)\r\n    return of(new AuthActions.Authenticate_Fail(errorMsg));\r\n  switch (errorRes.error?.error?.message) {\r\n    case 'EMAIL_EXISTS': errorMsg = \"Email address is already in use\";\r\n      break;\r\n    case 'OPERATION_NOT_ALLOWED': errorMsg = \"Password sign-in is disabled for this project\";\r\n      break;\r\n    case 'TOO_MANY_ATTEMPTS_TRY_LATER': errorMsg = 'Unusual activity detected. Please try again later';\r\n      break;\r\n    case 'EMAIL_NOT_FOUND': errorMsg = \"Invalid email\";\r\n      break;\r\n    case 'INVALID_PASSWORD': errorMsg = \"Incorrect password\";\r\n      break;\r\n    case 'USER_DISABLED': errorMsg = \"This user has been disabled\";\r\n  }\r\n  return of(new AuthActions.Authenticate_Fail(errorMsg));\r\n}\r\n\r\n@Injectable()\r\nexport class AuthEffects {\r\n  @Effect()\r\n  authSignup = this.actions$.pipe(\r\n    ofType(AuthActions.SIGNUP_START),\r\n    switchMap((signupAction: AuthActions.Signup_Start) => {\r\n      return this.http.post<AuthResponseData>(\r\n        `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${environment.firebaseAPIKey}`,\r\n        { email: signupAction.payload.email, password: signupAction.payload.password, returnSecureToken: true }\r\n      )\r\n      .pipe(\r\n        map(() => new AuthActions.Signup_Success()),\r\n        catchError(errorRes => handleError(errorRes))\r\n      )\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  authLogin = this.actions$.pipe(\r\n    ofType(AuthActions.LOGIN_START),\r\n    switchMap((authData: AuthActions.Login_Start) => {\r\n      return this.http.post<AuthResponseData>(\r\n        `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${environment.firebaseAPIKey}`,\r\n        { email: authData.payload.email, password: authData.payload.password, returnSecureToken: true }\r\n      )\r\n      .pipe(\r\n        tap((resData) => {\r\n          this.authService.setLogoutTimer(+resData.expiresIn*1000);\r\n        }),\r\n        map((resData: AuthResponseData) => {\r\n          this.store.dispatch(new RecipeActions.ResetRecipes());\r\n          return handleAuthentication(resData)}),\r\n        catchError(errorRes => handleError(errorRes))\r\n      )\r\n    })\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  authRedirect = this.actions$.pipe(ofType(AuthActions.AUTHENTICATE_SUCCESS),\r\n    tap((authSuccessAction: AuthActions.Authenticate_Success) => {\r\n      if(authSuccessAction.payload.redirect)\r\n        this.router.navigate(['/']);\r\n    })\r\n  );\r\n\r\n  @Effect({ dispatch: false })\r\n  authLogout = this.actions$.pipe(ofType(AuthActions.LOGOUT),\r\n    tap(() => {\r\n      this.authService.clearLogoutTimer();\r\n      localStorage.removeItem(\"userData\");\r\n      this.router.navigate(['/auth']);\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  autoLogin = this.actions$.pipe(ofType(AuthActions.AUTO_LOGIN),\r\n    map(() => {\r\n      const userData: {\r\n        email: string,\r\n        id: string,\r\n        _token: string,\r\n        _tokenExpirationDate: string\r\n    } = JSON.parse(localStorage.getItem('userData'));\r\n\r\n    if(userData)\r\n    {\r\n      const expirationDate = new Date(userData._tokenExpirationDate);\r\n      const loadedUser = new User(userData.email, userData.id, userData._token, expirationDate);\r\n\r\n      if(loadedUser.token){\r\n        //this.user.next(loadedUser);\r\n        this.store.dispatch(new RecipeActions.ResetRecipes());\r\n        const timeLeft = new Date(userData._tokenExpirationDate).getTime() - new Date().getTime();\r\n        this.authService.setLogoutTimer(timeLeft);\r\n        return new AuthActions.Authenticate_Success({email: loadedUser.email, id: loadedUser.id, _token: loadedUser.token, _tokenExpirationDate: expirationDate, redirect: false});\r\n        // this.autologout(timeLeft);\r\n      }\r\n  }\r\n    }),\r\n    filter(Boolean)\r\n  );\r\n\r\n\r\n\r\n  constructor(private actions$: Actions, private http: HttpClient, private router: Router, private authService: AuthService, private store: Store<fromApp.AppState>) { }\r\n\r\n\r\n\r\n}\r\n","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { AlertComponent } from \"./alert/alert.component\";\r\nimport { DropdownDirective } from \"./dropdown.directive\";\r\nimport { LoadingSpinnerComponent } from \"./loading-spinner/loading-spinner.conponent\";\r\nimport { PlaceholderDirective } from \"./placeholder.directive\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AlertComponent,\r\n        LoadingSpinnerComponent,\r\n        DropdownDirective,\r\n        PlaceholderDirective\r\n    ],\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    exports: [\r\n        AlertComponent,\r\n        LoadingSpinnerComponent,\r\n        DropdownDirective,\r\n        PlaceholderDirective,\r\n        CommonModule\r\n    ]\r\n})\r\nexport class SharedModule {}","import * as fromShoppingList from '../shopping/store/shopping-list.reducer';\r\nimport * as fromAuth from '../auth/store/auth.reducer';\r\nimport * as fromRecipes from '../recipe-book/store/recipe.reducer';\r\n\r\nimport { ActionReducerMap } from '@ngrx/store';\r\n\r\nexport interface AppState {\r\n  shoppingList: fromShoppingList.State,\r\n  auth: fromAuth.State,\r\n  recipes: fromRecipes.State\r\n}\r\n\r\nexport const appReducer: ActionReducerMap<AppState> = {\r\n  shoppingList: fromShoppingList.shoppingListReducer,\r\n  auth: fromAuth.authReducer,\r\n  recipes: fromRecipes.recipeReducer\r\n};","import { Ingredient } from \"../../shared/ingredient.model\";\r\nimport * as ShoppingListActions from './shopping-list.actions';\r\n\r\n\r\nexport interface State {\r\n  ingredients: Ingredient[],\r\n  editedIngredient: Ingredient,\r\n  editedIngredientIndex: number\r\n}\r\n\r\nconst initialState: State = {\r\n  ingredients: [\r\n    new Ingredient(\"Apples\", 5),\r\n    new Ingredient(\"Vanilla Essence\", 1)\r\n  ],\r\n  editedIngredient: null,\r\n  editedIngredientIndex: -1\r\n};\r\n\r\nexport function shoppingListReducer(state: State = initialState, action: ShoppingListActions.ShoppingListActions){\r\n  switch(action.type){\r\n    case ShoppingListActions.ADD_INGREDIENT: \r\n      let ingredients = checkDuplicateIngredients({...state}, [action.payload]);\r\n      return {...state, ingredients: ingredients}\r\n    case ShoppingListActions.ADD_INGREDIENTS:\r\n      let newIngredients: Ingredient[];\r\n      newIngredients = checkDuplicateIngredients({...state}, action.payload);\r\n      return {...state, ingredients: newIngredients};\r\n    case ShoppingListActions.UPDATE_INGREDIENT:\r\n      const ingredient = {...state.editedIngredient};\r\n      const updatedIngredient: Ingredient = {...ingredient, ...action.payload};\r\n      const updatedIngredients = [...state.ingredients];\r\n      updatedIngredients[state.editedIngredientIndex] = updatedIngredient;\r\n      \r\n      return {...state, ingredients: updatedIngredients, editedIngredient: null, editedIngredientIndex: -1};\r\n    case ShoppingListActions.DELETE_INGREDIENT:\r\n      return {...state, ingredients: state.ingredients.filter((ig, index) => {\r\n        return index !== state.editedIngredientIndex;\r\n      }), editedIngredient: null, editedIngredientIndex: -1};\r\n      case ShoppingListActions.START_EDIT:\r\n        return {...state, editedIngredientIndex: action.payload, editedIngredient: {...state.ingredients[action.payload]}};\r\n      case ShoppingListActions.STOP_EDIT:\r\n        return {...state, editedIngredient: null, editedIngredientIndex: -1};\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nfunction checkDuplicateIngredients(stateCopy: State, ingredients: Ingredient[]): Ingredient[]{\r\n  let updatedIngredients: Ingredient[];\r\n  let stateIngredients = [...stateCopy.ingredients];\r\n  ingredients.forEach(ingredient => {\r\n    const index = stateCopy.ingredients.findIndex(ing => ing.name === ingredient.name);\r\n    if(index === -1)\r\n    {\r\n      updatedIngredients = [...stateIngredients, ingredient];\r\n    } \r\n    else\r\n    {\r\n      updatedIngredients = [...stateIngredients];\r\n      const updatedIngredient: Ingredient = {...updatedIngredients[index], amount: updatedIngredients[index].amount + ingredient.amount}\r\n      updatedIngredients[index] = updatedIngredient;\r\n    }\r\n    stateIngredients = updatedIngredients;\r\n  })\r\n  \r\n  return updatedIngredients;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport * as AuthActions from './auth/store/auth.actions';\r\nimport * as fromApp from './store/app.reducer';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit{\r\n  constructor(private store: Store<fromApp.AppState>){}\r\n\r\n  ngOnInit(){\r\n    this.store.dispatch(new AuthActions.Auto_Login());\r\n  }\r\n}\r\n","<app-header></app-header>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <router-outlet></router-outlet>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, Output } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: 'app-alert',\r\n    templateUrl: './alert.component.html',\r\n    styleUrls: ['./alert.component.css']\r\n})\r\nexport class AlertComponent{\r\n    @Output() shouldSave: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n    \r\n    setSave(value: boolean){\r\n        this.shouldSave.emit(value);\r\n    }\r\n}","<div class=\"backdrop\" (click)=\"setSave(false)\"></div>\r\n<div class=\"alert-box\">\r\n    <p style=\"font-weight: bold; margin-bottom: 2px; font-size: calc(0.8em + 0.4vw)\">Are you sure you want to save?</p>\r\n    <p style=\"color: rgba(128, 128, 128, 0.5); font-size: calc(0.8em + 0.3vw); margin-bottom: 1vw;\">(This cannot be undone)</p>\r\n    <div class=\"alert-box-action\">\r\n        <button class=\"btn btn-success\" style=\"margin-right: 20px;\" (click)=\"setSave(true);\">Yes</button>\r\n        <button class=\"btn btn-danger\" (click)=\"setSave(false);\">No</button>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { StoreRouterConnectingModule } from '@ngrx/router-store';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { HeaderComponent } from './header/header.component';\r\n\r\nimport { AuthInterceptorService } from './auth/auth/auth-interceptor.service';\r\nimport { SharedModule } from './shared/shared.module';\r\n\r\nimport * as fromApp from './store/app.reducer';\r\nimport { AuthEffects } from './auth/store/auth.effects';\r\nimport { environment } from 'src/environments/environment';\r\nimport { RecipeEffects } from './recipe-book/store/recipe.effects';\r\nimport { PdfComponent } from './header/pdf/pdf.component';\r\n\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HeaderComponent,\r\n    PdfComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    StoreModule.forRoot(fromApp.appReducer),\r\n    EffectsModule.forRoot([AuthEffects, RecipeEffects]),\r\n    StoreDevtoolsModule.instrument({logOnly: environment.production}),\r\n    StoreRouterConnectingModule.forRoot(),\r\n    BrowserAnimationsModule,\r\n    SharedModule,\r\n  ],\r\n  providers: [{provide: HTTP_INTERCEPTORS, useClass: AuthInterceptorService, multi: true}],\r\n  bootstrap: [AppComponent],\r\n  //entryComponents: [AlertComponent] in angular versions below 9 for programmatic creation of component\r\n})\r\nexport class AppModule { }\r\n","import { Recipe } from '../recipe.model';\r\nimport * as RecipesActions from './recipe.actions';\r\n\r\nexport interface State {\r\n  recipes: Recipe[];\r\n  globalRecipes: Recipe[];\r\n}\r\n\r\nconst initialState: State = {\r\n  recipes: [],\r\n  globalRecipes: []\r\n};\r\n\r\nexport function recipeReducer(\r\n  state = initialState,\r\n  action: RecipesActions.RecipesActions\r\n) {\r\n  switch (action.type) {\r\n    case RecipesActions.SET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: [...action.payload]\r\n      };\r\n      case RecipesActions.SET_GLOBAL_RECIPES:\r\n        return {\r\n          ...state,\r\n          globalRecipes: [...action.payload]\r\n        }\r\n    case RecipesActions.ADD_RECIPE:\r\n      return {\r\n        ...state,\r\n        recipes: [...state.recipes, action.payload]\r\n      };\r\n    case RecipesActions.ADD_GLOBAL_RECIPE:\r\n      return {\r\n        ...state,\r\n        globalRecipes: [...state.globalRecipes, action.payload]\r\n      };\r\n    case RecipesActions.RESET_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: [],\r\n        globalRecipes: []\r\n      }\r\n    case RecipesActions.UPDATE_RECIPE:\r\n      const updatedRecipe = {\r\n        ...state.recipes[action.payload.index],\r\n        ...action.payload.newRecipe\r\n      };\r\n\r\n      const updatedRecipes = [...state.recipes];\r\n      updatedRecipes[action.payload.index] = updatedRecipe;\r\n\r\n      return {\r\n        ...state,\r\n        recipes: updatedRecipes\r\n      };\r\n    case RecipesActions.UPDATE_GLOBAL_RECIPE:\r\n      const updatedGlobalRecipe = {\r\n        ...state.globalRecipes[action.payload.index],\r\n        ...action.payload.newRecipe\r\n      };\r\n\r\n      const updatedGlobalRecipes = [...state.globalRecipes];\r\n      updatedGlobalRecipes[action.payload.index] = updatedGlobalRecipe;\r\n\r\n      return {\r\n        ...state,\r\n        globalRecipes: updatedGlobalRecipes\r\n      };\r\n    case RecipesActions.DELETE_RECIPE:\r\n      return {\r\n        ...state,\r\n        recipes: state.recipes.filter((recipe, index) => {\r\n          return index !== action.payload;\r\n        })\r\n      };\r\n    case RecipesActions.DELETE_GLOBAL_RECIPE:\r\n      return {\r\n        ...state,\r\n        globalRecipes: state.globalRecipes.filter((globalRecipe, index) => {\r\n          return index !== action.payload;\r\n        })\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export class User{\r\n    \r\n    constructor(\r\n        public email: string, \r\n        public id: string, \r\n        private _token: string, \r\n        private _tokenExpirationDate: Date){}\r\n\r\n    get token(){\r\n        if(!this._tokenExpirationDate || new Date() > this._tokenExpirationDate)\r\n            return null;\r\n\r\n        return this._token;\r\n    }\r\n}","import { Component, ComponentFactoryResolver, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { AuthService } from '../auth/auth.service';\r\nimport { AlertComponent } from '../shared/alert/alert.component';\r\nimport { DataStorageService } from '../shared/data-storage.service';\r\nimport { PlaceholderDirective } from '../shared/placeholder.directive';\r\nimport { AppState } from '../store/app.reducer';\r\nimport * as AuthActions from '../auth/store/auth.actions';\r\nimport * as RecipeActions from '../recipe-book/store/recipe.actions';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent implements OnInit, OnDestroy {\r\n  collapsed = true;\r\n  exportChoice: number;\r\n  private userSub: Subscription;\r\n  isAuthenticated = false;\r\n  showConfirmBox = false;\r\n  showPDFPreview = false;\r\n  @ViewChild(PlaceholderDirective, { static: false }) confirmationHost: PlaceholderDirective;\r\n  saveSub: Subscription;\r\n\r\n  constructor(public dataStorage: DataStorageService, public authService: AuthService, private componentFactoryResolver: ComponentFactoryResolver, private store: Store<AppState>) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userSub = this.store.select('auth')\r\n    .pipe(map(authState => authState.user))\r\n    .subscribe(\r\n      user => {\r\n        this.isAuthenticated = !!user;\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  confirm(){\r\n    this.showConfirmBox = true;\r\n  }\r\n\r\n  storeRecipes(){\r\n    //this.dataStorage.storeRecipes();\r\n    this.store.dispatch(new RecipeActions.StoreRecipes());\r\n    this.showConfirmBox = false;\r\n  }\r\n\r\n  showConfirmation(){\r\n      const confirmationCmpFactory = this.componentFactoryResolver.resolveComponentFactory(AlertComponent);\r\n      const hostViewContainerRef = this.confirmationHost.veiwContainerRef;\r\n      hostViewContainerRef.clear();\r\n\r\n      const confirmationComponentRef = hostViewContainerRef.createComponent(confirmationCmpFactory);\r\n      this.saveSub = confirmationComponentRef.instance.shouldSave.subscribe(\r\n        (save: boolean) => {\r\n          if(save){\r\n            this.storeRecipes();\r\n          }\r\n          this.saveSub.unsubscribe();\r\n          hostViewContainerRef.clear();\r\n        }\r\n      );\r\n\r\n  }\r\n\r\n  fetchRecipes(){\r\n    //this.dataStorage.fetchRecipes().subscribe();\r\n    this.store.dispatch(new RecipeActions.FetchRecipes());\r\n    this.store.dispatch(new RecipeActions.FetchGlobalRecipes());\r\n  }\r\n\r\n  logout(){\r\n    //this.authService.logout();\r\n    this.store.dispatch(new AuthActions.Logout());\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.userSub.unsubscribe();\r\n    if(this.saveSub)\r\n      this.saveSub.unsubscribe();\r\n  }\r\n\r\n  showPDF(exportChoice: number) {\r\n    this.showPDFPreview = true;\r\n    this.exportChoice = exportChoice;\r\n  }\r\n\r\n}\r\n","<nav class=\"navbar navbar-default\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"navbar-header\">\r\n            <button type=\"button\" class=\"navbar-toggle\" (click)=\"collapsed = !collapsed\">\r\n                <!-- <span class=\"icon-bar\" *ngFor=\"let iconBar of [1,2,3]\"></span> -->\r\n                <span class=\"bi bi-list\"></span>\r\n            </button>\r\n            <a href=\"/\" class=\"navbar-brand\">Recipe Book</a>\r\n        </div>\r\n\r\n        <!-- <app-alert *ngIf=\"showConfirmBox\" (shouldSave)=\" $event ? storeRecipes() : showConfirmBox = false;\"></app-alert> -->\r\n        <ng-template appPlaceholder></ng-template>\r\n\r\n        <div class=\"navbar-collapse\" [class.collapse]=\"collapsed\" (window:resize)=\"collapsed=true\">\r\n            <ul class=\"nav navbar-nav\">\r\n                <li routerLinkActive=\"active\" *ngIf=\"isAuthenticated\"><a routerLink=\"/recipes\"\r\n                    (click)=\"collapsed=true\">Recipes</a></li>\r\n                <li routerLinkActive=\"active\"\r\n                    (click)=\"collapsed=true\"\r\n                    ><a routerLink=\"/shopping-list\">Shopping List</a></li>\r\n            </ul>\r\n            <ul class=\"nav navbar-nav navbar-right\">\r\n                <li class=\"dropdown\" *ngIf=\"isAuthenticated\" appDropdown>\r\n                    <a role=\"button\" class=\"dropdown-toggle\">Export <span class=\"caret\"></span></a>\r\n                    <ul class=\"dropdown-menu\">\r\n                      <li><a style=\"cursor: pointer\" (click)=\"showPDF(0); collapsed=true\">Export All</a></li>\r\n                      <li><a style=\"cursor: pointer\" (click)=\"showPDF(1); collapsed=true\">Export Global</a></li>\r\n                      <li><a style=\"cursor: pointer\" (click)=\"showPDF(2); collapsed=true\">Export Private</a></li>\r\n                    </ul>\r\n                </li>\r\n                <li class=\"dropdown\" *ngIf=\"isAuthenticated\" appDropdown>\r\n                    <a class=\"dropdown-toggle\" role=\"button\">Manage <span class=\"caret\"></span></a>\r\n                    <ul class=\"dropdown-menu\">\r\n                        <li><a style=\"cursor: pointer\" (click)=\"fetchRecipes(); collapsed=true;\">Fetch Data</a></li>\r\n                        <li><a style=\"cursor: pointer\" (click)=\"showConfirmation(); collapsed=true;\">Save Data</a></li>\r\n                    </ul>\r\n                </li>\r\n                <li *ngIf=\"isAuthenticated\" (click)=\"logout()\">\r\n                    <a style=\"cursor: pointer;\">Logout</a>\r\n                </li>\r\n                <li routerLinkActive=\"active\"\r\n                    *ngIf=\"!isAuthenticated\"\r\n                    (click)=\"collapsed=true\"\r\n                    ><a routerLink=\"/auth\">Authenticate</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<app-pdf *ngIf=\"showPDFPreview\" (showPDFPreview)=\"showPDFPreview = $event\" [exportChoice]=\"exportChoice\"></app-pdf>\r\n","import { Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport * as fromApp from '../../store/app.reducer';\r\nimport * as fromRecipe from '../../recipe-book/store/recipe.reducer';\r\nimport { Recipe } from 'src/app/recipe-book/recipe.model';\r\nimport { Subscription } from 'rxjs';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\nimport domtoimage from 'dom-to-image';\r\n\r\n@Component({\r\n  selector: 'app-pdf',\r\n  templateUrl: './pdf.component.html',\r\n  styleUrls: ['./pdf.component.css']\r\n})\r\nexport class PdfComponent implements OnInit, OnDestroy {\r\n  selectedRecipes: Recipe[];\r\n  testRecipe: Recipe = null;\r\n  storeSub: Subscription;\r\n  @Input() exportChoice: number\r\n  @Output('showPDFPreview') showPDFPreview = new EventEmitter<boolean>();\r\n  @ViewChild('pdfWrapper', {static: true}) pdfWrapper: ElementRef;\r\n\r\n  constructor(private store: Store<fromApp.AppState>) { }\r\n\r\n  ngOnInit(): void {\r\n    this.storeSub = this.store.select('recipes').subscribe(\r\n      (recipeState: fromRecipe.State) => {\r\n        switch(this.exportChoice)\r\n        {\r\n          case 0: this.selectedRecipes = [...recipeState.globalRecipes, ...recipeState.recipes];\r\n          break;\r\n          case 1: this.selectedRecipes = [...recipeState.globalRecipes];\r\n          break;\r\n          case 2: this.selectedRecipes = [...recipeState.recipes];\r\n        }\r\n        this.testRecipe = this.selectedRecipes[1];\r\n      }\r\n    );\r\n  }\r\n\r\n  closePDF() {\r\n    this.showPDFPreview.emit(false);\r\n  }\r\n\r\n  async htmlToPdf() {\r\n    window.scrollTo(0,0);\r\n    await html2canvas(this.pdfWrapper.nativeElement, {\r\n      allowTaint: true,\r\n      useCORS: true,\r\n      scale: 1,\r\n      windowWidth: document.documentElement.offsetWidth,\r\n      windowHeight: document.documentElement.offsetHeight\r\n    }).then((canvas) => {\r\n      let pdf = new jsPDF('p', 'pt', [canvas.width, canvas.height]);\r\n\r\n      let imgData = canvas.toDataURL('image/jpeg', 2);\r\n      pdf.addImage(imgData,100,0, canvas.width*0.75, canvas.height*0.75);\r\n\r\n      pdf.save('Recipe');\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.storeSub.unsubscribe();\r\n  }\r\n}\r\n","<div id=\"pdf\">\r\n  <div class=\"backdrop\" (click)=\"closePDF()\"></div>\r\n  <div class=\"container\">\r\n    <div class=\"row\"><button class=\"btn btn-success\" id=\"export\" (click)=\"htmlToPdf(); closePDF();\">Export</button></div>\r\n    <div class=\"scroller\">\r\n      <div id=\"pdf-wrapper\" #pdfWrapper>\r\n          <h2 class=\"text-center\">Recipes</h2>\r\n          <div class=\"col-xs-12 col-md-12 col-lg-12\" *ngFor=\"let recipe of selectedRecipes; let i = index;\">\r\n            <hr>\r\n            <h4><b>{{ i+1 }}.) {{ recipe.name }}</b></h4>\r\n            <p class=\"\"><img [src]=\"recipe.imgPath\" style=\"width: auto; max-height: 300px;\"></p>\r\n            <h5><b>Description:</b></h5>\r\n            <p>{{ recipe.description }}</p>\r\n            <h5><b>Ingredients:</b></h5>\r\n            <ul class=\"list-group\">\r\n              <li *ngFor=\"let ingredient of recipe.ingredients; let i = index;\" class=\"list-group-item\">\r\n                {{ ingredient.name }} - {{ ingredient.amount }}\r\n              </li>\r\n            </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Ingredient } from '../shared/ingredient.model';\r\nimport { Subject } from 'rxjs'\r\nimport { Recipe } from './recipe.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport * as fromApp from '../store/app.reducer';\r\nimport * as ShoppingListActions from '../shopping/store/shopping-list.actions';\r\nimport jsPDF from 'jspdf';\r\n//import * as jsPDF from 'jspdf';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class RecipeService {\r\n    private recipeSelectedId = 0;\r\n    private pdf = new jsPDF();\r\n\r\n    recipesChanged = new Subject<Recipe[]>();\r\n\r\n    // private recipes: Recipe[] = [\r\n    //     new Recipe(\"Boiled Eggs\", \"Just boiled eggs\", \"https://www.onceuponachef.com/images/2017/10/How-To-Make-Hard-Boiled-Eggs-850x577.jpg\", [new Ingredient('Eggs', 6)]),\r\n    //     new Recipe(\"Beef Wellington\", \"Perfectly cooked beef wrapped in bread pastry\", \"https://static01.nyt.com/images/2019/12/13/dining/mc-beef-wellington/mc-beef-wellington-articleLarge.jpg\", [new Ingredient('Beef', 500), new Ingredient('Pastry', 2)])\r\n    // ];\r\n    private recipes: Recipe[] = [];\r\n\r\n    constructor(private store: Store<fromApp.AppState>) {}\r\n\r\n    getRecipes(): Recipe[] {\r\n        return this.recipes.slice();\r\n    }\r\n\r\n    getRecipe(info: string | number): Recipe {\r\n        if (typeof (info) === 'string')\r\n            return this.recipes.find((recipe) => info === recipe.name);\r\n        else\r\n            return this.recipes[info];\r\n    }\r\n\r\n    getIndex(recipe: Recipe) {\r\n        return this.recipes.indexOf(recipe);\r\n    }\r\n\r\n    addRecipe(recipe: Recipe, id: number, editMode = false) {\r\n        if (editMode) {\r\n            this.recipes[id] = recipe;\r\n        } else {\r\n            this.recipes.push(recipe);\r\n        }\r\n        this.recipesChanged.next(this.recipes.slice());\r\n    }\r\n\r\n    deleteRecipe(index: number) {\r\n        this.recipes.splice(index, 1);\r\n        this.recipesChanged.next(this.recipes.slice());\r\n    }\r\n\r\n    setFetchedRecipes(fetchedRecipes: Recipe[]) {\r\n        this.recipes = fetchedRecipes;\r\n        this.recipesChanged.next(this.recipes?.slice());\r\n    }\r\n\r\n    toShoppingList(ingredients: Ingredient[]){\r\n        this.store.dispatch(new ShoppingListActions.AddIngredients(ingredients));\r\n    }\r\n\r\n    downloadAsPDF() {\r\n\r\n    }\r\n\r\n    addToPDF() {\r\n\r\n    }\r\n}\r\n","import { HttpHandler, HttpInterceptor, HttpParams, HttpRequest } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport { exhaustMap, map, take } from \"rxjs/operators\";\r\nimport { AppState } from \"src/app/store/app.reducer\";\r\nimport { AuthService } from \"../auth.service\";\r\n\r\n@Injectable()\r\nexport class AuthInterceptorService implements HttpInterceptor{\r\n\r\n    constructor(private authService: AuthService, private store: Store<AppState>){}\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler){\r\n        return this.store.select('auth').pipe(take(1),\r\n            map(authState => authState.user),\r\n            exhaustMap(\r\n            user => {\r\n                const modifiedReq = req.clone({params: new HttpParams().set('auth', user?.token)});\r\n                return next.handle(modifiedReq);\r\n            }\r\n        ))\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { switchMap, map, withLatestFrom, tap } from 'rxjs/operators';\r\nimport jsPDF, { ImageOptions } from 'jspdf';\r\n\r\nimport * as RecipesActions from './recipe.actions';\r\nimport { Recipe } from '../recipe.model';\r\nimport * as fromApp from '../../store/app.reducer';\r\nimport * as fromRecipe from '../store/recipe.reducer';\r\nimport * as fromAuth from '../../auth/store/auth.reducer';\r\n\r\n\r\n@Injectable()\r\nexport class RecipeEffects {\r\n  @Effect()\r\n  fetchRecipes = this.actions$.pipe(\r\n    ofType(RecipesActions.FETCH_RECIPES),\r\n    withLatestFrom(this.store.select('auth')),\r\n    switchMap(([actionData, authState]) => {\r\n      const user: string[] = authState.user.email.split('.');\r\n      return this.http.get<Recipe[]>(\r\n        `https://recipe-book-ddfc0-default-rtdb.firebaseio.com/${user[0]}.json`\r\n      );\r\n    }),\r\n    map(recipes => {\r\n      if(recipes)\r\n      {\r\n      return recipes.map(recipe => {\r\n        return {\r\n          ...recipe,\r\n          ingredients: recipe.ingredients ? recipe.ingredients : []\r\n        };\r\n      });\r\n    }\r\n    else\r\n      return [];\r\n    }),\r\n    map(recipes => {\r\n      return new RecipesActions.SetRecipes(recipes);\r\n    })\r\n  );\r\n\r\n  @Effect()\r\n  fetchGlobalRecipes = this.actions$.pipe(\r\n    ofType(RecipesActions.FETCH_GLOBAL_RECIPES),\r\n    switchMap(() => {\r\n      return this.http.get<Recipe[]>(`https://recipe-book-ddfc0-default-rtdb.firebaseio.com/recipes.json`);\r\n    }),\r\n    map((globalRecipes: Recipe[]) => {\r\n      return globalRecipes.map(globalRecipe => {\r\n        return {...globalRecipe, ingredients: globalRecipe.ingredients ? globalRecipe.ingredients : []};\r\n      });\r\n    }),\r\n    map((globalRecipes: Recipe[]) => {\r\n      return new RecipesActions.SetGlobalRecipes(globalRecipes);\r\n    })\r\n  );\r\n\r\n  @Effect({dispatch: false})\r\n  storeRecipes = this.actions$.pipe(\r\n    ofType(RecipesActions.STORE_RECIPES),\r\n    withLatestFrom(this.store.select('recipes'), this.store.select('auth')),\r\n    switchMap(([actionData, recipesState, authState]) => {\r\n      const user: string[] = authState.user.email.split('.');\r\n      return this.http.put(\r\n        `https://recipe-book-ddfc0-default-rtdb.firebaseio.com/${user[0]}.json`,\r\n        recipesState.recipes\r\n      );\r\n    }),\r\n    withLatestFrom(this.store.select('recipes')),\r\n    switchMap(([actionData, recipesState]) => {\r\n      return this.http.put(`https://recipe-book-ddfc0-default-rtdb.firebaseio.com/recipes.json`,\r\n      recipesState.globalRecipes);\r\n    })\r\n  );\r\n\r\n  @Effect({dispatch: false})\r\n  exportRecipes = this.actions$.pipe(\r\n    ofType(RecipesActions.EXPORT_RECIPES),\r\n    switchMap(() => this.store.select('recipes')),\r\n    map((recipeState: fromRecipe.State) => recipeState.recipes),\r\n    map((recipes: Recipe[]) => recipes[0]),\r\n    tap((recipe: Recipe) => {\r\n      this.arrangePdf(recipe).then(\r\n        (doc: jsPDF) => { doc.save('Recipes.pdf'); }\r\n      );\r\n    })\r\n  );\r\n\r\n\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private http: HttpClient,\r\n    private store: Store<fromApp.AppState>\r\n  ) {}\r\n\r\n  arrangePdf(recipe: Recipe) {\r\n    return new Promise<jsPDF>((resolve, reject) => {\r\n    let doc = new jsPDF('p', 'pt', 'a4');\r\n      let width = doc.internal.pageSize.width;\r\n      let height = doc.internal.pageSize.height;\r\n      let options = {\r\n        pagesplit: true\r\n      };\r\n      doc.text('Recipes', width/2, 30, null,'center');\r\n          doc.text('1.)', 20, 50);\r\n          this.getDataUri(recipe.imgPath).then((imgData: string) => {\r\n            doc.addImage(imgData, 'PNG', 0.167*width, 70, (0.66*width), 200);\r\n            doc.setFont(undefined, 'bold');\r\n            doc.text(recipe.name, width/2, 295, null, 'center');\r\n            doc.line(0.167*width, 305, 0.827*width, 305);\r\n            doc.setFont(undefined, 'normal');\r\n            doc.text(recipe.description, 0.167*width, 325);\r\n            resolve(doc);\r\n          });\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n  getDataUri(url: string) {\r\n    return new Promise(\r\n      (resolve, reject) => {\r\n        const canvas = document.createElement('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        const img = new Image();\r\n        img.crossOrigin = \"anonymous\";\r\n        img.src = url;\r\n        img.onload = () =>\r\n        {\r\n          canvas.width = img.width;\r\n          canvas.height = img.height;\r\n          ctx.drawImage(img, 0, 0);\r\n          resolve(canvas.toDataURL());\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Store } from \"@ngrx/store\";\r\nimport * as fromApp from '../store/app.reducer';\r\nimport * as AuthActions from './store/auth.actions';\r\n\r\n\r\n\r\n@Injectable({ providedIn: \"root\" })\r\nexport class AuthService {\r\n    //user = new BehaviorSubject<User>(null);\r\n    tokenExpirationTimer;\r\n\r\n    constructor(private store: Store<fromApp.AppState>) { }\r\n\r\n    // signup(email: string, password: string) {\r\n    //     return this.http.post<AuthResponseData>(\r\n    //         `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${environment.firebaseAPIKey}`,\r\n    //         { email: email, password: password, returnSecureToken: true }\r\n    //     ).pipe(catchError(this.handleError));\r\n    // }\r\n\r\n    // login(email: string, password: string) {\r\n    //     return this.http.post<AuthResponseData>(\r\n    //         `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${environment.firebaseAPIKey}`,\r\n    //         { email: email, password: password, returnSecureToken: true }\r\n    //     ).pipe(catchError(this.handleError),\r\n    //         tap(resData => { this.handleAuthentication(resData) }));\r\n    // }\r\n\r\n    // logout() {\r\n    //     //this.user.next(null);\r\n    //     //this.router.navigate(['/auth']);\r\n    //     localStorage.removeItem('userData');\r\n    //     if(this.tokenExpirationTimer)\r\n    //         clearTimeout(this.tokenExpirationTimer);\r\n    //     this.tokenExpirationTimer = null;\r\n    // }\r\n\r\n    setLogoutTimer(expirationDuration: number){\r\n        this.tokenExpirationTimer = setTimeout(() => {\r\n            this.store.dispatch(new AuthActions.Logout());\r\n        }, expirationDuration);\r\n    }\r\n\r\n    clearLogoutTimer(){\r\n        if(this.tokenExpirationTimer)\r\n            clearTimeout(this.tokenExpirationTimer);\r\n        this.tokenExpirationTimer = null;\r\n    }\r\n\r\n    // autoLogin(){\r\n    //     const userData: {\r\n    //         email: string,\r\n    //         id: string,\r\n    //         _token: string,\r\n    //         _tokenExpirationDate: string\r\n    //     } = JSON.parse(localStorage.getItem('userData'));\r\n    //     if(!userData)\r\n    //         return;\r\n    //     const expirationDate = new Date(userData._tokenExpirationDate);\r\n    //     const loadedUser = new User(userData.email, userData.id, userData._token, expirationDate);\r\n\r\n    //     if(loadedUser.token){\r\n    //         //this.user.next(loadedUser);\r\n    //         this.store.dispatch(new AuthActions.Authenticate_Success({email: loadedUser.email, id: loadedUser.id, _token: loadedUser.token, _tokenExpirationDate: expirationDate }));\r\n    //         const timeLeft = new Date(userData._tokenExpirationDate).getTime() - new Date().getTime();\r\n    //         this.autologout(timeLeft);\r\n    //     }\r\n    // }\r\n\r\n    // private handleAuthentication({ email, localId, idToken, expiresIn }: AuthResponseData) {\r\n    //     const expirationDate = new Date(new Date().getTime() + (+expiresIn * 1000));\r\n    //     const user = new User(email, localId, idToken, expirationDate);\r\n    //     //this.user.next(user);\r\n    //     this.store.dispatch(new AuthActions.Authenticate_Success({email: email, id: localId, _token: idToken, _tokenExpirationDate: expirationDate}));\r\n    //     this.autologout(+expiresIn*1000);\r\n    //     localStorage.setItem('userData', JSON.stringify(user));\r\n    // }\r\n\r\n    // private handleError(errorRes: HttpErrorResponse) {\r\n    //     let errorMsg = \"An unknown error occurred\";\r\n    //     if (!errorRes.error || !errorRes.error.error)\r\n    //         return throwError(errorMsg);\r\n    //     switch (errorRes.error?.error?.message) {\r\n    //         case 'EMAIL_EXISTS': errorMsg = \"Email address is already in use\";\r\n    //             break;\r\n    //         case 'OPERATION_NOT_ALLOWED': errorMsg = \"Password sign-in is disabled for this project\";\r\n    //             break;\r\n    //         case 'TOO_MANY_ATTEMPTS_TRY_LATER': errorMsg = 'Unusual activity detected. Please try again later';\r\n    //             break;\r\n    //         case 'EMAIL_NOT_FOUND': errorMsg = \"Invalid email\";\r\n    //             break;\r\n    //         case 'INVALID_PASSWORD': errorMsg = \"Incorrect password\";\r\n    //             break;\r\n    //         case 'USER_DISABLED': errorMsg = \"This user has been disabled\";\r\n    //     }\r\n    //     return throwError(errorMsg);\r\n    // }\r\n}","import { User } from \"../user.model\";\r\nimport * as AuthActions from \"./auth.actions\";\r\n\r\nexport interface State {\r\n  user: User;\r\n  authError: string,\r\n  loading: boolean,\r\n  hasSignedUp: boolean\r\n}\r\n\r\nconst initialState = {\r\n  user: null,\r\n  authError: null,\r\n  loading: false,\r\n  hasSignedUp: false\r\n};\r\n\r\nexport function authReducer(state = initialState, action: AuthActions.AuthActions){\r\n  switch(action.type){\r\n    case AuthActions.AUTHENTICATE_SUCCESS: \r\n      const user = new User(action.payload.email, action.payload.id, action.payload._token, action.payload._tokenExpirationDate);\r\n      return {...state, user: user, authError: null, loading: false};\r\n    case AuthActions.LOGOUT:\r\n      return {...state, user: null};\r\n    case AuthActions.LOGIN_START:\r\n      return {...state, authError: null, loading: true};\r\n    case AuthActions.AUTHENTICATE_FAIL:\r\n      return {...state, user: null, authError: action.payload, loading: false, hasSignedUp: false}\r\n    case AuthActions.SIGNUP_START:\r\n      return {...state, user: null, loading: true, authError: null};\r\n    case AuthActions.SIGNUP_SUCCESS:\r\n      return {...state, loading: false, authError: null, hasSignedUp: true};\r\n    case AuthActions.CLEAR_MESSAGES:\r\n      return {...state, hasSignedUp: false, authError: null};\r\n    default:\r\n      return state;\r\n  }\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { PreloadAllModules, RouterModule, Routes } from \"@angular/router\";\r\n\r\nconst appRoutes: Routes = [\r\n    { path: '', redirectTo: '/recipes', pathMatch: 'full'},\r\n    { path: 'recipes', loadChildren: () => import('./recipe-book/recipes.module').then( module => module.RecipesModule) },\r\n    { path: 'shopping-list', loadChildren: () => import('./shopping/shopping-list.module').then(module => module.ShoppingListModule) },\r\n    { path: 'auth', loadChildren: () => import('./auth/auth.module').then(module => module.AuthModule) },\r\n    { path: '**', redirectTo: '/recipes'},\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forRoot(appRoutes, {preloadingStrategy: PreloadAllModules}),\r\n    ],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule{\r\n\r\n}","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}